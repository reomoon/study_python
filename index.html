<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ Python ê¸°ì´ˆ ìŠ¤í„°ë””</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            color: #7f8c8d;
            font-size: 1.2em;
            margin-bottom: 30px;
        }
        .section {
            margin: 30px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 5px solid #3498db;
        }
        .week-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        .week-table th, .week-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        .week-table th {
            background-color: #3498db;
            color: white;
        }
        .week-table tr:hover {
            background-color: #f5f5f5;
        }
        .step {
            background: #e8f5e8;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #27ae60;
        }
        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            margin: 10px 0;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background: #3498db;
            color: white;
            text-decoration: none;
            border-radius: 25px;
            transition: all 0.3s ease;
            margin: 5px;
        }
        .btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }
        .emoji {
            font-size: 1.2em;
        }
        .highlight {
            background: linear-gradient(120deg, #a8edea 0%, #fed6e3 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1><span class="emoji">ğŸ</span> Python ê¸°ì´ˆ ìŠ¤í„°ë””</h1>
        <p class="subtitle">ì´ˆë³´ìë„ ì‰½ê²Œ! í•¨ê»˜ ë°°ìš°ëŠ” íŒŒì´ì¬ í”„ë¡œê·¸ë˜ë°</p>
        
        <div class="highlight">
            <h2><span class="emoji">ğŸ¯</span> ìŠ¤í„°ë”” ëª©í‘œ</h2>
            <p>10ì£¼ ë™ì•ˆ Python ê¸°ì´ˆë¶€í„° í´ë˜ìŠ¤ê¹Œì§€ ë§ˆìŠ¤í„°í•˜ê¸°!</p>
            <a href="https://github.com/reomoon/study_python" class="btn">GitHub ë°”ë¡œê°€ê¸°</a>
            <a href="#guide" class="btn">ì°¸ì—¬ë°©ë²• ë³´ê¸°</a>
        </div>

        <div class="section">
            <h2><span class="emoji">ğŸ“š</span> í•™ìŠµ ê³„íš (10ì£¼ ê³¼ì •)</h2>
            <table class="week-table">
                <thead>
                    <tr>
                        <th>ì£¼ì°¨</th>
                        <th>ì£¼ì œ</th>
                        <th>í•™ìŠµ ë‚´ìš©</th>
                        <th>ìƒíƒœ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1ì£¼ì°¨</td>
                        <td>ë³€ìˆ˜</td>
                        <td>ë°ì´í„°ë¥¼ ë‹´ëŠ” ìƒì ë§Œë“¤ê¸°</td>
                        <td><span class="emoji">ğŸ”„</span> ì§„í–‰ì¤‘</td>
                    </tr>
                    <tr>
                        <td>2ì£¼ì°¨</td>
                        <td>ìë£Œí˜•</td>
                        <td>ìˆ«ì, ë¬¸ì, ì°¸/ê±°ì§“ êµ¬ë¶„í•˜ê¸°</td>
                        <td><span class="emoji">â³</span> ì˜ˆì •</td>
                    </tr>
                    <tr>
                        <td>3ì£¼ì°¨</td>
                        <td>ì¶œë ¥/ì…ë ¥</td>
                        <td>í™”ë©´ì— ë³´ì—¬ì£¼ê³  ì‚¬ìš©ìí•œí…Œ ë°›ê¸°</td>
                        <td><span class="emoji">â³</span> ì˜ˆì •</td>
                    </tr>
                    <tr>
                        <td>4ì£¼ì°¨</td>
                        <td>ì¡°ê±´ë¬¸/ì˜ˆì™¸ì²˜ë¦¬</td>
                        <td>ë§Œì•½ì—~ë¼ë©´, ì—ëŸ¬ ì²˜ë¦¬í•˜ê¸°</td>
                        <td><span class="emoji">â³</span> ì˜ˆì •</td>
                    </tr>
                    <tr>
                        <td>5ì£¼ì°¨</td>
                        <td>ë°˜ë³µë¬¸</td>
                        <td>ê°™ì€ ì¼ ì—¬ëŸ¬ ë²ˆ ì‹œí‚¤ê¸°</td>
                        <td><span class="emoji">â³</span> ì˜ˆì •</td>
                    </tr>
                    <tr>
                        <td>6ì£¼ì°¨</td>
                        <td>í•¨ìˆ˜/ëª¨ë“ˆ</td>
                        <td>ì½”ë“œ ì •ë¦¬í•˜ê³  ì¬ì‚¬ìš©í•˜ê¸°</td>
                        <td><span class="emoji">â³</span> ì˜ˆì •</td>
                    </tr>
                    <tr>
                        <td>9ì£¼ì°¨</td>
                        <td>íŒŒì¼ ì…ì¶œë ¥</td>
                        <td>íŒŒì¼ ì½ê³  ì“°ê¸°</td>
                        <td><span class="emoji">â³</span> ì˜ˆì •</td>
                    </tr>
                    <tr>
                        <td>10ì£¼ì°¨</td>
                        <td>í´ë˜ìŠ¤</td>
                        <td>ê°ì²´ ë§Œë“¤ê¸°</td>
                        <td><span class="emoji">â³</span> ì˜ˆì •</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="section" id="guide">
            <h2><span class="emoji">ğŸš€</span> ì°¸ì—¬í•˜ëŠ” ë°©ë²•</h2>
            
            <div class="step">
                <h3><span class="emoji">ğŸ“¥</span> 1ë‹¨ê³„: í”„ë¡œì íŠ¸ ë‹¤ìš´ë¡œë“œ</h3>
                <div class="code-block">
git clone https://github.com/reomoon/study_python.git
cd study_python
git checkout template/week1
git checkout -b study/ë³¸ì¸ì´ë¦„
                </div>
            </div>

            <div class="step">
                <h3><span class="emoji">âœï¸</span> 2ë‹¨ê³„: ë¬¸ì œ í’€ê¸°</h3>
                <p>VS Codeë¡œ <code>week1_variable.py</code> íŒŒì¼ì„ ì—´ì–´ì„œ ë‹µì•ˆì„ ì‘ì„±í•˜ì„¸ìš”!</p>
                <div class="code-block">
# ë‹µì„ ì•„ë˜ì— ì‘ì„±í•˜ì„¸ìš”.
x = 7  # ì—¬ê¸°ì— ë‹µì•ˆ ì‘ì„±!
print("x =", x)
                </div>
            </div>

            <div class="step">
                <h3><span class="emoji">ğŸ“¤</span> 3ë‹¨ê³„: ì œì¶œí•˜ê¸°</h3>
                <div class="code-block">
git add .
git commit -m "1ì£¼ì°¨ ë³€ìˆ˜ ë¬¸ì œ ì™„ë£Œ"
git push origin study/ë³¸ì¸ì´ë¦„
                </div>
            </div>
        </div>

        <div class="section">
            <h2><span class="emoji">ğŸ¤–</span> ìë™ ë„ìš°ë¯¸ ê¸°ëŠ¥</h2>
            <ul>
                <li><strong>ì¦‰ì‹œ ê²©ë ¤ ë©”ì‹œì§€</strong>: Pushí•˜ë©´ ë°”ë¡œ ì‘ì› ëŒ“ê¸€ì´ ë‹¬ë ¤ìš”!</li>
                <li><strong>ë§¤ì¼ í•™ìŠµ ë¦¬í¬íŠ¸</strong>: ì˜¤í›„ 6ì‹œì— ìë™ìœ¼ë¡œ ì§„ë„ ì²´í¬</li>
                <li><strong>ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬</strong>: ë¬¸ë²•, ìŠ¤íƒ€ì¼, ì£¼ì„ê¹Œì§€ ìë™ ì²´í¬</li>
                <li><strong>AI ì„ ìƒë‹˜</strong>: 24ì‹œê°„ ìë™ìœ¼ë¡œ ë„ì™€ë“œë ¤ìš”!</li>
            </ul>
        </div>

        <div class="section">
            <h2><span class="emoji">ğŸ“‹</span> ìŠ¤í„°ë”” ê·œì¹™</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div style="background: #d5f5d5; padding: 15px; border-radius: 8px;">
                    <h3><span class="emoji">âœ…</span> ì´ë ‡ê²Œ í•´ì£¼ì„¸ìš”</h3>
                    <ul>
                        <li>êµ¬ê¸€ ê²€ìƒ‰ ì ê·¹ í™œìš©</li>
                        <li>ì£¼ì„ ì—´ì‹¬íˆ ë‹¬ê¸°</li>
                        <li>ì—ëŸ¬ ë¬´ì„œì›Œí•˜ì§€ ë§ê¸°</li>
                        <li>ì„œë¡œ ë„ì™€ì£¼ê¸°</li>
                    </ul>
                </div>
                <div style="background: #f5d5d5; padding: 15px; border-radius: 8px;">
                    <h3><span class="emoji">âŒ</span> ì´ëŸ° ê±´ í•˜ì§€ ë§ì•„ìš”</h3>
                    <ul>
                        <li>ChatGPT, Copilot ì‚¬ìš©</li>
                        <li>ë‹¤ë¥¸ ì‚¬ëŒ ì½”ë“œ ë³µì‚¬</li>
                        <li>ë‹µì•ˆ ê³µìœ </li>
                        <li>ì—ëŸ¬ ë‚˜ë„ ê·¸ëƒ¥ í‘¸ì‹œ</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="highlight">
            <h2><span class="emoji">ğŸ†</span> í•¨ê»˜ Python ë§ˆìŠ¤í„°ê°€ ë˜ì–´ë´ìš”!</h2>
            <p>10ì£¼ í›„ì—ëŠ” ì—¬ëŸ¬ë¶„ë„ í˜¼ìì„œ í”„ë¡œê·¸ë¨ì„ ë§Œë“¤ ìˆ˜ ìˆì„ ê±°ì˜ˆìš”!</p>
            <a href="https://github.com/reomoon/study_python/blob/main/GUIDE.md" class="btn">ìì„¸í•œ ê°€ì´ë“œ ë³´ê¸°</a>
        </div>
    </div>
<h2>Python ê¸°ì´ˆ ìŠ¤í„°ë”” ìë™ ì±„ì ê¸°</h2>
<div style="background:#f8f9fa;padding:15px;border-radius:10px;margin-bottom:20px;">{{ problem|safe }}</div>
<form method="post" onsubmit="return beforeSubmit();">
    ì´ë¦„: <input name="username" required><br><br>
    ì£¼ì°¨: <select name="week" onchange="onWeekChange(this.value)"> <!-- ì„ íƒ ì‹œ GETìœ¼ë¡œ ì¬ìš”ì²­í•´ ë¬¸ì œë¥¼ ë³€ê²½ -->
        {% for k, label in week_options %}
            <option value="{{ k }}" {% if selected_week == k %}selected{% endif %}>{{ k }}ì£¼ì°¨ - {{ label }}</option>
        {% endfor %}
    </select><br><br>
    í‘œì¤€ ì…ë ¥ (ê° input() í˜¸ì¶œë§ˆë‹¤ í•œ ì¤„ì”© ë„£ì–´ì£¼ì„¸ìš”):<br>
    <textarea name="stdin" rows="4" style="width:400px" placeholder="ì˜ˆ (ê° ì¤„ì´ í•˜ë‚˜ì˜ input()ì— ëŒ€ì‘):\nAlice\n25\n"></textarea><br><br>
    ë‹µì•ˆ ì½”ë“œ:<br>
    <div style="margin-bottom:8px;">
        <button type="button" onclick="loadExample()">ì˜ˆì œ ë¶ˆëŸ¬ì˜¤ê¸°</button>
        <button type="button" onclick="copyCode()">ì½”ë“œ ë³µì‚¬</button>
    </div>
    <textarea id="code" name="code" style="display:none"></textarea>
            <div id="editor" style="border:1px solid #ccc; border-radius:5px; height:420px; width:100%; max-width:1000px; margin-bottom:10px; overflow-y:auto;"></div><br>
    <button type="submit">ì œì¶œ</button>
</form>
<!-- Monaco Editor (VSCode ê¸°ë°˜ ì—ë””í„°) -->
<script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.34.1/min/vs/loader.js"></script>
<script>
// ì„œë²„ì—ì„œ ì „ë‹¬ëœ ì œì¶œ ì½”ë“œë¥¼ JSë¡œ ì£¼ì…í•˜ì—¬ ì œì¶œ í›„ì—ë„ ì—ë””í„°ê°€ ìœ ì§€ë˜ë„ë¡ í•¨
var initialCode = "";
try {
    initialCode = {{ submitted_code|tojson | default('""') }};
} catch(e) { initialCode = ""; }
require.config({ paths: { 'vs': 'https://cdn.jsdelivr.net/npm/monaco-editor@0.34.1/min/vs' }});
require(['vs/editor/editor.main'], function() {
    window.editor = monaco.editor.create(document.getElementById('editor'), {
        value: initialCode || '',
        language: 'python',
        theme: 'vs-dark',
        automaticLayout: true,
        minimap: { enabled: false },
        fontFamily: 'Consolas, "Courier New", monospace',
        fontSize: 13
    });
    try{
        var codeElem = document.getElementById('code');
        if(codeElem) codeElem.value = initialCode || '';
    }catch(e){}
});

function copyCode(){
    const code = window.editor && window.editor.getValue ? window.editor.getValue() : '';
    navigator.clipboard && navigator.clipboard.writeText(code);
    alert('ì½”ë“œê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.');
}

function loadExample(){
    const week = document.getElementsByName('week')[0].value;
    fetch('/example?week=' + encodeURIComponent(week)).then(r=>{
        if(!r.ok) throw new Error('ì˜ˆì œ ë¡œë“œ ì‹¤íŒ¨');
        return r.text();
    }).then(txt=>{
        if(window.editor && window.editor.setValue) window.editor.setValue(txt);
    }).catch(e=>alert(String(e)));
}
</script>
<script>
function onWeekChange(v) {
    // reload the page with selected week as query param (GET)
    const params = new URLSearchParams(window.location.search);
    params.set('week', v);
    window.location.search = params.toString();
}
</script>
<script>
// ì œì¶œ ì „ì— ì—ë””í„°ì˜ ì½”ë“œë¥¼ hidden textareaì— ë„£ê³ ,
// ì½”ë“œì— input() í˜¸ì¶œì´ ìˆìœ¼ë‚˜ stdinì´ ë¹„ì–´ìˆìœ¼ë©´ ë¸Œë¼ìš°ì €ì—ì„œ
// ìˆœì°¨ì ìœ¼ë¡œ prompt()ë¡œ ì…ë ¥ê°’ì„ ë°›ì•„ ì±„ì›Œì¤ë‹ˆë‹¤.
window.beforeSubmit = function(){
    // ì•ˆì „í•˜ê²Œ ì—ë””í„° ê°’ ì½ê¸°
    var code = '';
    try{
        if(window.editor && typeof window.editor.getValue === 'function'){
            code = window.editor.getValue();
        }else if(typeof editor !== 'undefined' && editor && typeof editor.getValue === 'function'){
            code = editor.getValue();
        }
    }catch(e){
        // ë¬´ì‹œ: ì—ë””í„° ì ‘ê·¼ ì¤‘ ì˜ˆì™¸ê°€ ë‚˜ë”ë¼ë„ ì œì¶œì´ ë§‰íˆì§€ ì•Šë„ë¡ í•¨
        code = '';
    }
    var codeElem = document.getElementById('code');
    if(codeElem) codeElem.value = code;
    var stdinElem = document.getElementsByName('stdin')[0];
    var stdinVal = (stdinElem && stdinElem.value) ? stdinElem.value.trim() : '';

    // ê°„ë‹¨í•œ íŒ¨í„´ìœ¼ë¡œ input( í˜¸ì¶œ ìˆ˜ë¥¼ ì„¼ë‹¤
    var re = /(^|[^A-Za-z0-9_])input\s*\(/g;
    var count = 0;
    var m;
    while((m = re.exec(code)) !== null) count++;

    if(count > 0 && stdinVal === ''){
        var inputs = [];
        for(var i=0;i<count;i++){
            var v = window.prompt('ì…ë ¥ê°’ì„ ì…ë ¥í•˜ì„¸ìš” (input() í˜¸ì¶œ #' + (i+1) + ')\nì·¨ì†Œí•˜ë©´ ì œì¶œì´ ì¤‘ë‹¨ë©ë‹ˆë‹¤.');
            if(v === null){
                return false; // ì œì¶œ ì·¨ì†Œ
            }
            inputs.push(v);
        }
        if(stdinElem) stdinElem.value = inputs.join('\n');
    }
    return true;
};
</script>
{% if result %}
<hr>
<b>ê²°ê³¼:</b><br>
{% if student_output %}
<pre>{{ student_output|e }}</pre>
{% endif %}
{% if checker_output %}
<h4>ì±„ì ê¸° ì¶œë ¥</h4>
<pre>{{ checker_output|e }}</pre>
{% endif %}
{% if submitted_code %}
<h4>ì œì¶œí•œ ì½”ë“œ</h4>
<pre>{{ submitted_code|e }}</pre>
{% endif %}
{{ result|safe }}
{% endif %}
</body>
</html>

